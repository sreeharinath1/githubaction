name: Main Pipeline

on:
  workflow_dispatch:           # ðŸ‘ˆ Manual trigger

jobs:
  call-generator:
    # ðŸ‘ˆ Call the reusable workflow, pinned to a commit SHA for security
    uses: myorg/myrepo/.github/workflows/art-generator.yml@a1b2c3d4e5f6
    with:
      script_name: "diamond.sh"   # ðŸ‘ˆ Input passed to reusable workflow

  process-result:
    needs: call-generator      # ðŸ‘ˆ Wait until generator job finishes
    runs-on: ubuntu-latest
    steps:
      - name: Download Result
        uses: actions/download-artifact@v4   # ðŸ‘ˆ Retrieve artifact created earlier
        with:
          name: diamond.sh-art

      - name: Print the Output Path
        run: echo "The reusable workflow created: ${{ needs.call-generator.outputs.art_file }}"
        # ðŸ‘ˆ Show the filename returned as an output
