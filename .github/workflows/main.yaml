name: Main Pipeline

on:
  workflow_dispatch:           # ğŸ‘ˆ Manual trigger

jobs:
  call-generator:
    # ğŸ‘ˆ Call the reusable workflow, pinned to a branch or commit SHA
    uses: sreeharinath1/githubaction/.github/workflows/art-generator.yaml@main
    with:
      script_name: "diamond.sh"   # ğŸ‘ˆ Input passed to reusable workflow

  process-result:
    needs: call-generator      # ğŸ‘ˆ Wait until generator job finishes
    runs-on: ubuntu-latest
    steps:
      - name: Download Result
        uses: actions/download-artifact@v4   # ğŸ‘ˆ Retrieve artifact created earlier
        with:
          name: diamond.sh-art

      - name: Print the Output Path
        run: echo "The reusable workflow created: ${{ needs.call-generator.outputs.art_file }}"
        # ğŸ‘ˆ Show the filename returned as an output
